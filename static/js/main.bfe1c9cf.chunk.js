(this["webpackJsonpstar-war"]=this["webpackJsonpstar-war"]||[]).push([[0],{59:function(e,t,a){e.exports=a(95)},64:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"loginUser",(function(){return D}));var r={};a.r(r),a.d(r,"fetchPlanets",(function(){return G}));var o=a(0),l=a.n(o),c=a(18),s=a.n(c),i=(a(64),a(21)),u=a(22),p=a(27),h=a(23),g=a(28),m=a(8),d=Object(m.b)(),f=a(26),E=a(19),b=a(36),O=a(7),y=a(9),v=a.n(y),N=a(29),j=a.n(N),S="PROCESSING_LOGIN",C="PROCESED_LOGIN",P="ERR_PROCESSING_LOGIN",_="FETCHING_PLANET",R="FETCHED_PLANET",T="ERR_FETCHING_PLANET",w={login:"".concat("https://swapi.co/api","/people"),planet:"".concat("https://swapi.co/api","/planets")},D=function(){return function(e){return e({type:S}),j()({method:"GET",url:w.login,responseType:"json"}).then((function(t){e({type:C,payload:t.data})})).catch((function(t){e({type:P})}))}},L={getObjectByKeySearch:function(e,t,a){var n=e.filter((function(e){return e[t].toUpperCase()===a.toUpperCase()}));return n.length>0&&n},getArrayObjectByMultipleKeySearch:function(e,t,a){var n=e.filter((function(e){return e[t].toUpperCase().includes(a.toUpperCase())}));return n.length>0&&n}};var k={USERNAME:"USERNAME"},I={setToken:function(e){return localStorage.setItem(k.USERNAME,e)},getToken:function(){return localStorage.getItem(k.USERNAME)},removeToken:function(){return localStorage.removeItem(k.USERNAME)}};a(88);var U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleSignIn=function(e){e.preventDefault(),a.setState({isAuthUser:!1}),a.props.loginUser()},a.handleOnChange=function(e){var t;a.setState((t={},Object(b.a)(t,e.target.name,e.target.value),Object(b.a)(t,"isAuthUser",!1),t))},a.state={userName:"",password:"",isAuthUser:!1},I.getToken()&&a.props.history.push("/search"),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.logged,n=t.errorLogin,r=t.peopleRes;if(e.loging&&a&&!n)if(r.length>0){var o=L.getObjectByKeySearch(r,"name",this.state.userName);if(o)L.getObjectByKeySearch(o,"birth_year",this.state.password).length>0?(I.setToken(this.state.userName),this.props.history.push("/search")):this.setState({isAuthUser:!0});else this.setState({isAuthUser:!0})}else this.setState({isAuthUser:!0})}},{key:"render",value:function(){var e=this.state,t=e.userName,a=e.password,n=e.isAuthUser,r=this.props.loging?"Please Wait...":"Login";return l.a.createElement("div",{class:"login-page"},l.a.createElement("div",{class:"form"},l.a.createElement("h1",null,"Login"),l.a.createElement("form",{class:"login-form"},l.a.createElement("input",{type:"text",name:"userName",onChange:this.handleOnChange,autoComplete:"off",placeholder:"Username"}),l.a.createElement("input",{type:"password",name:"password",onChange:this.handleOnChange,placeholder:"Password"}),l.a.createElement("button",{disabled:!t&&!a||this.props.loging,onClick:this.handleSignIn},r),n?l.a.createElement("p",{class:"message"},"Invalid Username or password"):null)))}}]),t}(l.a.Component);var A=Object(f.b)((function(e){var t=e.login;return{loging:t.loging,peopleRes:t.peopleRes,errorLogin:t.errorLogin,logged:t.logged}}),(function(e){return Object(O.b)(v.a.assign({},n,{}),e)}))(U),G=function(){return function(e){return e({type:_}),j()({method:"GET",url:w.planet,responseType:"json"}).then((function(t){e({type:R,payload:t.data.results})})).catch((function(t){e({type:T})}))}},x=a(125),F=a(54),B=a.n(F),M=a(122),H=a(123),K=a(117),z=a(128),W=a(121),X=a(119),V=a(126),J=a(120),q=Object(K.a)({card:{width:275,minWidth:275,backgroundColor:"#333"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14,color:"#ffe300"},pos:{marginBottom:12},btn:{padding:"10px 15px",marginBottom:"-1px",backgroundColor:"#32383e",border:"1px solid rgba(0,0,0,.6)",color:"#fff",borderTopRightRadius:4,borderTopLeftRadius:4}});function $(e){var t=q();l.a.createElement("span",{className:t.bullet},"\u2022");return l.a.createElement(z.a,{className:t.card},l.a.createElement(X.a,null,l.a.createElement(J.a,{className:t.title,color:"textSecondary",gutterBottom:!0},e.planet.name)),l.a.createElement(W.a,null,l.a.createElement(V.a,{className:t.btn,size:"small"},"Info")))}var Q={planetColumn:{marginBottom:20}},Y=function(e){var t=e.planets,a=t?t.map((function(e){return l.a.createElement(M.a,{style:Q.planetColumn,xs:12,sm:4,md:3,lg:3},l.a.createElement($,{planet:e}))})):null;return l.a.createElement(H.a,null,a)},Z=a(124),ee=a(34);a(89),a(90);var te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e)))._handleChange=function(e){var t=e.target.value;if(v.a.size(a.state.planetData)>0){var n=L.getArrayObjectByMultipleKeySearch(a.state.planetData,"name",t);a.setState({data:n})}},a._handleLogout=function(e){I.removeToken(),a.props.history.push("/")},a.state={searchValue:"",data:[],planetData:[]},a.planetData=[],I.getToken()||a.props.history.push("/"),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPlanets()}},{key:"renderGrid",value:function(e){return l.a.createElement("div",null,l.a.createElement(Z.a,null,l.a.createElement(H.a,null,l.a.createElement("div",{className:"input-group md-form form-sm form-1 pl-0 row-margin"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text purple lighten-3",id:"basic-text1"},l.a.createElement(B.a,null))),l.a.createElement("input",{className:"form-control my-0 py-1",onChange:this._handleChange,type:"text",placeholder:"Search by Planet name","aria-label":"Search"}))),l.a.createElement(H.a,{className:"row-margin"},l.a.createElement(Y,{planets:e}))))}},{key:"render",value:function(){return l.a.createElement("div",{style:{backgroundColor:"#c8c8c8",height:"750px"}},l.a.createElement(ee.a,{onClick:this._handleLogout,className:"logout",to:"/"},"Logout"),v.a.size(this.state.data)>0?this.renderGrid(this.state.data):l.a.createElement(x.a,{className:"loader",color:"primary"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=null;return v.a.eq(e.planetData,t.planetData)?a:a={data:e.planetData,planetData:e.planetData}}}]),t}(l.a.Component);var ae=Object(f.b)((function(e){var t=e.planet;return{fetchingPlanet:t.fetchingPlanet,planetData:t.planetData||[],errorFetchingPlanet:t.errorFetchingPlanet,fetchedPlanet:t.fetchedPlanet}}),(function(e){return Object(O.b)(v.a.assign({},r,{}),e)}))(te),ne=a(39),re=a(30),oe=Object(O.c)({routing:re.routeReducer,login:function(e,t){var a=e||{};switch(t.type){case"PROCESSING_LOGIN":return v.a.assign({},a,{loging:!0,peopleRes:[],errorLogin:!1,logged:!1});case"PROCESED_LOGIN":return v.a.assign({},a,{loging:!1,peopleRes:t.payload.results,errorLogin:!1,logged:!0});case"ERR_PROCESSING_LOGIN":return v.a.assign({},a,{loging:!1,peopleRes:[],errorLogin:!0,logged:!1});default:return a}},planet:function(e,t){var a=e||{};switch(t.type){case"FETCHING_PLANET":return v.a.assign({},a,{fetchingPlanet:!0,planetData:[],errorFetchingPlanet:!1,fetchedPlanet:!1});case"FETCHED_PLANET":return v.a.assign({},a,{fetchingPlanet:!1,planetData:t.payload,errorFetchingPlanet:!1,fetchedPlanet:!0});case"ERR_FETCHING_PLANET":return v.a.assign({},a,{fetchingPlanet:!1,planetData:[],errorFetchingPlanet:!0,fetchedPlanet:!1});default:return a}}}),le=Object(m.b)();var ce=function(){var e,t=Object(re.syncHistory)(le);return e=window.__REDUX_DEVTOOLS_EXTENSION__?Object(O.d)(Object(O.a)(ne.a),Object(O.a)(t),window.__REDUX_DEVTOOLS_EXTENSION__()):Object(O.d)(Object(O.a)(ne.a),Object(O.a)(t)),Object(O.e)(oe,{},e)}(),se=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(f.a,{store:ce},l.a.createElement(E.c,{history:d},l.a.createElement(E.d,null,l.a.createElement(E.b,{exact:!0,path:"/",component:A}),l.a.createElement(E.b,{exact:!0,path:"/login",component:A}),l.a.createElement(E.b,{exact:!0,path:"/search",component:ae}),l.a.createElement(E.b,{path:"*",component:A}),l.a.createElement(E.a,{to:"/"}))))}}]),t}(o.Component);a(94),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[59,1,2]]]);
//# sourceMappingURL=main.bfe1c9cf.chunk.js.map